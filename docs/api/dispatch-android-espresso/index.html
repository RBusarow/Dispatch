<!--
  ~ Copyright (C) 2020 Rick Busarow
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html>
  <head>
      <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
      <title>dispatch-android-espresso</title>
      <link href="../images/logo-icon.svg" rel="icon" type="image/svg">
      <link href="../styles/style.css" rel="Stylesheet">
      <script type="text/javascript" src="../scripts/navigationLoader.js" async="async"></script>
      <script type="text/javascript" src="../scripts/platformContentHandler.js"
              async="async"></script>
      <script type="text/javascript" src="../scripts/sourceset_dependencies.js"
              async="async"></script>
      <script type="text/javascript" src="../scripts/clipboard.js" async="async"></script>
      <link href="../styles/jetbrains-mono.css" rel="Stylesheet">
      <script>var pathToRoot = "../";</script>
  </head>
  <body>
    <div id="container">
      <div id="leftColumn">
        <div id="logo"></div>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
        <div id="main">
            <div id="leftToggler"><span class="icon-toggler"></span></div>
            <div id="searchBar"></div>
            <script type="text/javascript" src="../scripts/pages.js"></script>
            <script type="text/javascript" src="../scripts/main.js"></script>
            <div id="content" pageIds="////PointingToDeclaration/">
                <div class="breadcrumbs"><a href="index.html">dispatch-android-espresso</a></div>
                <div class="cover ">
                    <h1 class="cover"><a data-name="dispatch-android-espresso"></a><span>dispatch-android-espresso</span>
                    </h1>
                    <div class="platform-hinted UnderCoverText"
                         data-platform-hinted="data-platform-hinted">
                        <div class="content sourceset-depenent-content" data-active=""
                             data-togglable=":dispatch-android-espresso:dokkaHtml/release"><p
                                class="paragraph">
                            <p class="paragraph">Tools to provide <a
                                    href="https://developer.android.com/training/testing/espresso/idling-resource">Espresso</a>
                                functionality for coroutines.</p>
                            <p class="paragraph">If an <a
                                    href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                is registered with the <a
                                        href="https://developer.android.com/reference/androidx/test/espresso/IdlingRegistry">IdlingRegistry</a>,
                                <a href="https://developer.android.com/training/testing/espresso">Espresso</a>
                                will wait for all associated coroutines to leave the active state
                                before performing any assertions.</p>
                            <p class="paragraph">Coroutines which are in a suspended state (such as
                                a
                                <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/index.html">Job</a>
                                &quot;observing&quot; a <a
                                        href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a>
                                for updates) do not prevent Espresso from performing assertions.</p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>class IdlingCoroutineScopeRuleWithLifecycleSample {<br><br>  // Retrieve the DispatcherProvider from a dependency graph,<br>  // so that the same one is used throughout the codebase.<br>  val customDispatcherProvider = testAppComponent.customDispatcherProvider<br><br>  @JvmField<br>  @Rule<br>  val idlingRule = IdlingDispatcherProviderRule {<br>    IdlingDispatcherProvider(customDispatcherProvider)<br>  }<br><br>  /**<br>  * If you don't provide CoroutineScopes to your lifecycle components via a dependency injection framework,<br>  * you need to use the `dispatch-android-lifecycle-extensions` and `dispatch-android-viewmodel` artifacts<br>  * to ensure that the same `IdlingDispatcherProvider` is used.<br>  */<br>  @Before<br>  fun setUp() {<br>    LifecycleScopeFactory.set {<br>      MainImmediateCoroutineScope(customDispatcherProvider)<br>    }<br>    ViewModelScopeFactory.set {<br>      MainImmediateCoroutineScope(customDispatcherProvider)<br>    }<br>  }<br><br>  @Test<br>  fun testThings() = runBlocking {<br><br>    // Now any CoroutineScope which uses the DispatcherProvider<br>    // in TestAppComponent will sync its &quot;idle&quot; state with Espresso<br><br>  }<br><br>}</pre>
                            </code></div>
                            <h2 class=""><a></a> Contents</h2>
                            <p class="paragraph">&lt;!--- TOC --&gt;</p>
                            <ul>
                                <li><p class="paragraph">#types</p></li>
                                <li><p class="paragraph">#idlingcoroutinescopes</p></li>
                                <li><p class="paragraph">#minimum-gradle-config</p></li>
                            </ul>
                            <p class="paragraph">&lt;!--- END --&gt;</p>
                            <h2 class=""><a></a> Types</h2>
                            <table>
                                <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider-rule/index.html">IdlingDispatcherProviderRule</a>
                                    </td>
                                    <td> JUnit 4 <a
                                            href="https://junit.org/junit4/javadoc/4.12/org/junit/Rule.html">Rule</a>
                                        which automatically registers an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                        with the <a
                                                href="https://developer.android.com/reference/androidx/test/espresso/IdlingRegistry">IdlingRegistry</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher/index.html">IdlingDispatcher</a>
                                    </td>
                                    <td> A <a
                                            href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        which tracks each dispatched coroutine using a <a
                                                href="https://developer.android.com/reference/androidx/test/espresso/idling/CountingIdlingResource">CountingIdlingResource</a>.
                                        All actual dispatches are delegated to a provided <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                    </td>
                                    <td> A special <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-core//dispatch.core/-dispatcher-provider/index.html">DispatcherProvider</a>
                                        which guarantees that each of its properties is an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher/index.html">IdlingDispatcher</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                    </td>
                                    <td> A special <a
                                            href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/coroutine-scope.html">CoroutineScope</a>
                                        which guarantees a property of an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <h2 class=""><a></a> IdlingCoroutineScopes</h2>
                            <table>
                                <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-default-idling-coroutine-scope/index.html">DefaultIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-default-idling-coroutine-scope/index.html">DefaultIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>default</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-i-o-idling-coroutine-scope/index.html">IOIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-i-o-idling-coroutine-scope/index.html">IOIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>io</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-idling-coroutine-scope/index.html">MainIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-idling-coroutine-scope/index.html">MainIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>main</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-immediate-idling-coroutine-scope/index.html">MainImmediateIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-immediate-idling-coroutine-scope/index.html">MainImmediateIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>mainImmediate</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-unconfined-idling-coroutine-scope/index.html">UnconfinedIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-unconfined-idling-coroutine-scope/index.html">UnconfinedIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>unconfined</code>.
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <h2 class=""><a></a> Minimum Gradle Config</h2>
                            <p class="paragraph">Add to your module's <code>build.gradle.kts</code>:
                            </p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>repositories {<br>  mavenCentral()<br>}<br><br>dependencies {<br><br>  // core<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.9&quot;)<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9&quot;)<br>  implementation(&quot;com.rickbusarow.dispatch:dispatch-core:1.0.0-beta04&quot;)<br><br>  androidTestImplementation(&quot;com.rickbusarow.dispatch:dispatch-android-espresso:1.0.0-beta04&quot;)<br><br>  // android<br>  androidTestImplementation(&quot;androidx.test:runner:1.2.0&quot;)<br>  androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.2.0&quot;)<br>}</pre>
                            </code></div>
                            <p class="paragraph">&lt;!--- MODULE dispatch-core--&gt;</p>
                            <p class="paragraph">&lt;!--- INDEX --&gt;</p>
                            <p class="paragraph">&lt;!--- MODULE dispatch-android-espresso--&gt;</p>
                            <p class="paragraph">&lt;!--- INDEX --&gt;</p>
                            <p class="paragraph">&lt;!--- END --&gt;</p></p><p class="paragraph">
                            <p class="paragraph">Tools to provide <a
                                    href="https://developer.android.com/training/testing/espresso/idling-resource">Espresso</a>
                                functionality for coroutines.</p>
                            <p class="paragraph">If an <a
                                    href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                is registered with the <a
                                        href="https://developer.android.com/reference/androidx/test/espresso/IdlingRegistry">IdlingRegistry</a>,
                                <a href="https://developer.android.com/training/testing/espresso">Espresso</a>
                                will wait for all associated coroutines to leave the active state
                                before performing any assertions.</p>
                            <p class="paragraph">Coroutines which are in a suspended state (such as
                                a
                                <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/index.html">Job</a>
                                &quot;observing&quot; a <a
                                        href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a>
                                for updates) do not prevent Espresso from performing assertions.</p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>class IdlingCoroutineScopeRuleWithLifecycleSample {<br><br>  // Retrieve the DispatcherProvider from a dependency graph,<br>  // so that the same one is used throughout the codebase.<br>  val customDispatcherProvider = testAppComponent.customDispatcherProvider<br><br>  @JvmField<br>  @Rule<br>  val idlingRule = IdlingDispatcherProviderRule {<br>    IdlingDispatcherProvider(customDispatcherProvider)<br>  }<br><br>  /**<br>  * If you don't provide CoroutineScopes to your lifecycle components via a dependency injection framework,<br>  * you need to use the `dispatch-android-lifecycle-extensions` and `dispatch-android-viewmodel` artifacts<br>  * to ensure that the same `IdlingDispatcherProvider` is used.<br>  */<br>  @Before<br>  fun setUp() {<br>    LifecycleScopeFactory.set {<br>      MainImmediateCoroutineScope(customDispatcherProvider)<br>    }<br>    ViewModelScopeFactory.set {<br>      MainImmediateCoroutineScope(customDispatcherProvider)<br>    }<br>  }<br><br>  @Test<br>  fun testThings() = runBlocking {<br><br>    // Now any CoroutineScope which uses the DispatcherProvider<br>    // in TestAppComponent will sync its &quot;idle&quot; state with Espresso<br><br>  }<br><br>}</pre>
                            </code></div>
                            <h2 class=""><a></a> Contents</h2>
                            <p class="paragraph">&lt;!--- TOC --&gt;</p>
                            <ul>
                                <li><p class="paragraph">#types</p></li>
                                <li><p class="paragraph">#idlingcoroutinescopes</p></li>
                                <li><p class="paragraph">#minimum-gradle-config</p></li>
                            </ul>
                            <p class="paragraph">&lt;!--- END --&gt;</p>
                            <h2 class=""><a></a> Types</h2>
                            <table>
                                <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider-rule/index.html">IdlingDispatcherProviderRule</a>
                                    </td>
                                    <td> JUnit 4 <a
                                            href="https://junit.org/junit4/javadoc/4.12/org/junit/Rule.html">Rule</a>
                                        which automatically registers an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                        with the <a
                                                href="https://developer.android.com/reference/androidx/test/espresso/IdlingRegistry">IdlingRegistry</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher/index.html">IdlingDispatcher</a>
                                    </td>
                                    <td> A <a
                                            href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        which tracks each dispatched coroutine using a <a
                                                href="https://developer.android.com/reference/androidx/test/espresso/idling/CountingIdlingResource">CountingIdlingResource</a>.
                                        All actual dispatches are delegated to a provided <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                    </td>
                                    <td> A special <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-core//dispatch.core/-dispatcher-provider/index.html">DispatcherProvider</a>
                                        which guarantees that each of its properties is an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher/index.html">IdlingDispatcher</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                    </td>
                                    <td> A special <a
                                            href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/coroutine-scope.html">CoroutineScope</a>
                                        which guarantees a property of an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <h2 class=""><a></a> IdlingCoroutineScopes</h2>
                            <table>
                                <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-default-idling-coroutine-scope/index.html">DefaultIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-default-idling-coroutine-scope/index.html">DefaultIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>default</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-i-o-idling-coroutine-scope/index.html">IOIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-i-o-idling-coroutine-scope/index.html">IOIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>io</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-idling-coroutine-scope/index.html">MainIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-idling-coroutine-scope/index.html">MainIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>main</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-immediate-idling-coroutine-scope/index.html">MainImmediateIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-immediate-idling-coroutine-scope/index.html">MainImmediateIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>mainImmediate</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-unconfined-idling-coroutine-scope/index.html">UnconfinedIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-unconfined-idling-coroutine-scope/index.html">UnconfinedIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>unconfined</code>.
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <h2 class=""><a></a> Minimum Gradle Config</h2>
                            <p class="paragraph">Add to your module's <code>build.gradle.kts</code>:
                            </p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>repositories {<br>  mavenCentral()<br>}<br><br>dependencies {<br><br>  // core<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.9&quot;)<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9&quot;)<br>  implementation(&quot;com.rickbusarow.dispatch:dispatch-core:1.0.0-beta04&quot;)<br><br>  androidTestImplementation(&quot;com.rickbusarow.dispatch:dispatch-android-espresso:1.0.0-beta04&quot;)<br><br>  // android<br>  androidTestImplementation(&quot;androidx.test:runner:1.2.0&quot;)<br>  androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.2.0&quot;)<br>}</pre>
                            </code></div>
                            <p class="paragraph">&lt;!--- MODULE dispatch-core--&gt;</p>
                            <p class="paragraph">&lt;!--- INDEX --&gt;</p>
                            <p class="paragraph">&lt;!--- MODULE dispatch-android-espresso--&gt;</p>
                            <p class="paragraph">&lt;!--- INDEX --&gt;</p>
                            <p class="paragraph">&lt;!--- END --&gt;</p></p><p class="paragraph">
                            <p class="paragraph">Tools to provide <a
                                    href="https://developer.android.com/training/testing/espresso/idling-resource">Espresso</a>
                                functionality for coroutines.</p>
                            <p class="paragraph">If an <a
                                    href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                is registered with the <a
                                        href="https://developer.android.com/reference/androidx/test/espresso/IdlingRegistry">IdlingRegistry</a>,
                                <a href="https://developer.android.com/training/testing/espresso">Espresso</a>
                                will wait for all associated coroutines to leave the active state
                                before performing any assertions.</p>
                            <p class="paragraph">Coroutines which are in a suspended state (such as
                                a
                                <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/index.html">Job</a>
                                &quot;observing&quot; a <a
                                        href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a>
                                for updates) do not prevent Espresso from performing assertions.</p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>class IdlingCoroutineScopeRuleWithLifecycleSample {<br><br>  // Retrieve the DispatcherProvider from a dependency graph,<br>  // so that the same one is used throughout the codebase.<br>  val customDispatcherProvider = testAppComponent.customDispatcherProvider<br><br>  @JvmField<br>  @Rule<br>  val idlingRule = IdlingDispatcherProviderRule {<br>    IdlingDispatcherProvider(customDispatcherProvider)<br>  }<br><br>  /**<br>  * If you don't provide CoroutineScopes to your lifecycle components via a dependency injection framework,<br>  * you need to use the `dispatch-android-lifecycle-extensions` and `dispatch-android-viewmodel` artifacts<br>  * to ensure that the same `IdlingDispatcherProvider` is used.<br>  */<br>  @Before<br>  fun setUp() {<br>    LifecycleScopeFactory.set {<br>      MainImmediateCoroutineScope(customDispatcherProvider)<br>    }<br>    ViewModelScopeFactory.set {<br>      MainImmediateCoroutineScope(customDispatcherProvider)<br>    }<br>  }<br><br>  @Test<br>  fun testThings() = runBlocking {<br><br>    // Now any CoroutineScope which uses the DispatcherProvider<br>    // in TestAppComponent will sync its &quot;idle&quot; state with Espresso<br><br>  }<br><br>}</pre>
                            </code></div>
                            <h2 class=""><a></a> Contents</h2>
                            <p class="paragraph">&lt;!--- TOC --&gt;</p>
                            <ul>
                                <li><p class="paragraph">#types</p></li>
                                <li><p class="paragraph">#idlingcoroutinescopes</p></li>
                                <li><p class="paragraph">#minimum-gradle-config</p></li>
                            </ul>
                            <p class="paragraph">&lt;!--- END --&gt;</p>
                            <h2 class=""><a></a> Types</h2>
                            <table>
                                <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Description</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider-rule/index.html">IdlingDispatcherProviderRule</a>
                                    </td>
                                    <td> JUnit 4 <a
                                            href="https://junit.org/junit4/javadoc/4.12/org/junit/Rule.html">Rule</a>
                                        which automatically registers an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                        with the <a
                                                href="https://developer.android.com/reference/androidx/test/espresso/IdlingRegistry">IdlingRegistry</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher/index.html">IdlingDispatcher</a>
                                    </td>
                                    <td> A <a
                                            href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        which tracks each dispatched coroutine using a <a
                                                href="https://developer.android.com/reference/androidx/test/espresso/idling/CountingIdlingResource">CountingIdlingResource</a>.
                                        All actual dispatches are delegated to a provided <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                    </td>
                                    <td> A special <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-core//dispatch.core/-dispatcher-provider/index.html">DispatcherProvider</a>
                                        which guarantees that each of its properties is an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher/index.html">IdlingDispatcher</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                    </td>
                                    <td> A special <a
                                            href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/coroutine-scope.html">CoroutineScope</a>
                                        which guarantees a property of an <a
                                                href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-dispatcher-provider/index.html">IdlingDispatcherProvider</a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <h2 class=""><a></a> IdlingCoroutineScopes</h2>
                            <table>
                                <thead>
                                <tr>
                                    <th>Marker Interface</th>
                                    <th>Factory Function</th>
                                    <th>Description</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-default-idling-coroutine-scope/index.html">DefaultIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-default-idling-coroutine-scope/index.html">DefaultIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>default</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-i-o-idling-coroutine-scope/index.html">IOIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-i-o-idling-coroutine-scope/index.html">IOIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>io</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-idling-coroutine-scope/index.html">MainIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-idling-coroutine-scope/index.html">MainIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>main</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-immediate-idling-coroutine-scope/index.html">MainImmediateIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-main-immediate-idling-coroutine-scope/index.html">MainImmediateIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>mainImmediate</code>.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-unconfined-idling-coroutine-scope/index.html">UnconfinedIdlingCoroutineScope</a>
                                    </td>
                                    <td>
                                        <a href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-unconfined-idling-coroutine-scope/index.html">UnconfinedIdlingCoroutineScope</a>
                                    </td>
                                    <td> A <a
                                            href="https://rbusarow.github.io/Dispatch/api/dispatch-android-espresso//dispatch.android.espresso/-idling-coroutine-scope/index.html">IdlingCoroutineScope</a>
                                        with a <a
                                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/index.html">CoroutineDispatcher</a>
                                        of <code>unconfined</code>.
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <h2 class=""><a></a> Minimum Gradle Config</h2>
                            <p class="paragraph">Add to your module's <code>build.gradle.kts</code>:
                            </p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>repositories {<br>  mavenCentral()<br>}<br><br>dependencies {<br><br>  // core<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.9&quot;)<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9&quot;)<br>  implementation(&quot;com.rickbusarow.dispatch:dispatch-core:1.0.0-beta04&quot;)<br><br>  androidTestImplementation(&quot;com.rickbusarow.dispatch:dispatch-android-espresso:1.0.0-beta04&quot;)<br><br>  // android<br>  androidTestImplementation(&quot;androidx.test:runner:1.2.0&quot;)<br>  androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.2.0&quot;)<br>}</pre>
                            </code></div>
                            <p class="paragraph">&lt;!--- MODULE dispatch-core--&gt;</p>
                            <p class="paragraph">&lt;!--- INDEX --&gt;</p>
                            <p class="paragraph">&lt;!--- MODULE dispatch-android-espresso--&gt;</p>
                            <p class="paragraph">&lt;!--- INDEX --&gt;</p>
                            <p class="paragraph">&lt;!--- END --&gt;</p></p></div>
                    </div>
                </div>
                <h2 class=""><a data-name="packages"></a>Packages</h2>
                <div class="table"><a
                        data-name="dispatch.android.espresso////PointingToDeclaration/"></a>
                    <div class="table-row"
                         data-filterable-current=":dispatch-android-espresso:dokkaHtml/release"
                         data-filterable-set=":dispatch-android-espresso:dokkaHtml/release">
                        <div class="main-subrow "><span><a
                                href="dispatch.android.espresso/index.html">dispatch.android.espresso</a><span
                                class="anchor-wrapper"><span class="anchor-icon"
                                                             pointing-to="dispatch.android.espresso////PointingToDeclaration/"><svg
                                width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
    <path d="M21.2496 5.3C20.3496 4.5 19.2496 4 18.0496 4C16.8496 4 15.6496 4.5 14.8496 5.3L10.3496 9.8L11.7496 11.2L16.2496 6.7C17.2496 5.7 18.8496 5.7 19.8496 6.7C20.8496 7.7 20.8496 9.3 19.8496 10.3L15.3496 14.8L16.7496 16.2L21.2496 11.7C22.1496 10.8 22.5496 9.7 22.5496 8.5C22.5496 7.3 22.1496 6.2 21.2496 5.3Z"/>
    <path d="M8.35 16.7998C7.35 17.7998 5.75 17.7998 4.75 16.7998C3.75 15.7998 3.75 14.1998 4.75 13.1998L9.25 8.6998L7.85 7.2998L3.35 11.7998C1.55 13.5998 1.55 16.3998 3.35 18.1998C4.25 19.0998 5.35 19.4998 6.55 19.4998C7.75 19.4998 8.85 19.0998 9.75 18.1998L14.25 13.6998L12.85 12.2998L8.35 16.7998Z"/>
</svg></span>
                    <div class="copy-popup-wrapper "><svg width="18" height="18" viewBox="0 0 18 18"
                                                          fill="none"
                                                          xmlns="http://www.w3.org/2000/svg">
    <path d="M18 9C18 14 14 18 9 18C4 18 0 14 0 9C0 4 4 0 9 0C14 0 18 4 18 9ZM14.2 6.2L12.8 4.8L7.5 10.1L5.3 7.8L3.8 9.2L7.5 13L14.2 6.2Z"
          fill="#4DBB5F"/>
</svg><span>Link copied to clipboard</span></div>
                  </span></span></div>
            </div>
          </div>
        </div>
            <div class="footer"><span class="go-to-top-icon"><a href="#container"><svg width="12"
                                                                                       height="10"
                                                                                       viewBox="0 0 12 10"
                                                                                       fill="none"
                                                                                       xmlns="http://www.w3.org/2000/svg">
    <path d="M11.3337 9.66683H0.666992L6.00033 3.66683L11.3337 9.66683Z" fill="black"/>
    <path d="M0.666992 0.333496H11.3337V1.66683H0.666992V0.333496Z" fill="black"/>
</svg></a></span><span>© 2020 Copyright</span><span class="pull-right"><span>Sponsored and developed by dokka</span><a
                    href="https://github.com/Kotlin/dokka"><span class="padded-icon"><svg width="8"
                                                                                          height="8"
                                                                                          viewBox="0 0 8 8"
                                                                                          fill="none"
                                                                                          xmlns="http://www.w3.org/2000/svg">
    <path d="M8 0H2.3949L4.84076 2.44586L0 7.28662L0.713376 8L5.55414 3.15924L8 5.6051V0Z"
          fill="black"/>
</svg></span></a></span></div>
      </div>
    </div>
  </body>
</html>

