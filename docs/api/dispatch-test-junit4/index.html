<!--
  ~ Copyright (C) 2020 Rick Busarow
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html>
  <head>
      <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
      <title>dispatch-test-junit4</title>
      <link href="../images/logo-icon.svg" rel="icon" type="image/svg">
      <link href="../styles/style.css" rel="Stylesheet">
      <script type="text/javascript" src="../scripts/navigationLoader.js" async="async"></script>
      <script type="text/javascript" src="../scripts/platformContentHandler.js"
              async="async"></script>
      <script type="text/javascript" src="../scripts/sourceset_dependencies.js"
              async="async"></script>
      <script type="text/javascript" src="../scripts/clipboard.js" async="async"></script>
      <link href="../styles/jetbrains-mono.css" rel="Stylesheet">
      <script>var pathToRoot = "../";</script>
  </head>
  <body>
    <div id="container">
      <div id="leftColumn">
        <div id="logo"></div>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
        <div id="main">
            <div id="leftToggler"><span class="icon-toggler"></span></div>
            <div id="searchBar"></div>
            <script type="text/javascript" src="../scripts/pages.js"></script>
            <script type="text/javascript" src="../scripts/main.js"></script>
            <div id="content" pageIds="////PointingToDeclaration/">
                <div class="breadcrumbs"><a href="index.html">dispatch-test-junit4</a></div>
                <div class="cover ">
                    <h1 class="cover"><a data-name="dispatch-test-junit4"></a><span>dispatch-test-junit4</span>
                    </h1>
                    <div class="platform-hinted UnderCoverText"
                         data-platform-hinted="data-platform-hinted">
                        <div class="content sourceset-depenent-content" data-active=""
                             data-togglable=":dispatch-test-junit4:dokkaHtml/main"><p
                                class="paragraph">
                            <h2 class=""><a></a> Contents</h2>
                            <p class="paragraph">&lt;!--- TOC --&gt;</p>
                            <ul>
                                <li><p class="paragraph">#features</p></li>
                                <li><p class="paragraph">#setting-dispatchersmain</p></li>
                                <li><p class="paragraph">#this-module-replaces-dispatch-test</p>
                                </li>
                                <li><p class="paragraph">#junit-dependencies</p></li>
                                <ul>
                                    <li><p class="paragraph">#minimum-gradle-config</p></li>
                                    <li><p class="paragraph">#junit-5-interoperability</p></li>
                                </ul>
                            </ul>
                            <p class="paragraph">&lt;!--- END --&gt;</p>
                            <h2 class=""><a></a> Features</h2>
                            <p class="paragraph">In addition to all the functionality in <a
                                    href="https://rbusarow.github.io/Dispatch/api/dispatch-test/dispatch.test/index.html">dispatch-test</a>,
                                this module exposes a <a
                                        href="https://rbusarow.github.io/Dispatch/api/dispatch-test-junit4//dispatch.test/-test-coroutine-rule/index.html">TestCoroutineRule</a>
                                to handle set-up and tear-down of a <a
                                        href="https://rbusarow.github.io/Dispatch/api/dispatch-test//dispatch.test/-test-provided-coroutine-scope/index.html">TestProvidedCoroutineScope</a>.
                            </p>
                            <p class="paragraph">Since <a
                                    href="https://rbusarow.github.io/Dispatch/api/dispatch-test//dispatch.test/-test-provided-coroutine-scope/index.html">TestProvidedCoroutineScope</a>
                                is a
                                <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/kotlinx.coroutines.test/-test-coroutine-scope/index.html">TestCoroutineScope</a>,
                                this Rule also invokes <a
                                        href="https://rbusarow.github.io/Dispatch/api/dispatch-test//dispatch.test/-test-provided-coroutine-scope/index.html#kotlinx.coroutines.test/TestCoroutineScope/cleanupTestCoroutines/#/PointingToDeclaration/">cleanupTestCoroutines</a>
                                after the test.</p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>class SomeClassTest {<br><br>  @JvmField<br>  @Rule<br>  val rule = TestCoroutineRule()<br><br>  @Test<br>  fun `some test`() = runBlocking {<br><br>    val subject = SomeClass(rule)<br><br>    val job = subject.fireAndForget()<br><br>    // TODO: assertions go here<br>  }<br><br>}<br><br>class SomeClass(val coroutineScope: CoroutineScope) {<br>  fun fireAndForget() = launch { }<br>}</pre>
                            </code></div>
                            <h2 class=""><a></a> Setting Dispatchers.Main</h2>
                            <p class="paragraph">Even though <code>dispatch-core</code> eliminates
                                the need to use <code>Dispatchers.Main</code> in internal code, it’s
                                still possible that code which has yet to be migrated, or a
                                third-party library is making use of the hard-coded dispatcher.
                                Because of this, the rule still calls
                                <code>Dispatchers.setMain(...)</code> in its setup and <code>Dispatchers.resetMain()</code>
                                afterwards.</p>
                            <h2 class=""><a></a> This module replaces dispatch-test</h2>
                            <p class="paragraph">If using this module, there is no need to include
                                the <code>dispatch-test</code> artifact in your dependencies.</p>
                            <h2 class=""><a></a> JUnit dependencies</h2>
                            <h3 class=""><a></a> Minimum Gradle Config</h3>
                            <p class="paragraph">Because this is a JUnit 4 Rule, it requires a
                                variant of that artifact. No external libraries are bundled as part
                                of Dispatch, so you’ll need to add it to your
                                <code>dependencies</code> block yourself. The two official options
                                would be:</p>
                            <ul>
                                <li><p class="paragraph">classic JUnit 4</p></li>
                                <ul>
                                    <li><p class="paragraph"><code>org.junit.jupiter:junit-jupiter:4.13</code>
                                    </p></li>
                                </ul>
                                <li><p class="paragraph">JUnit 5 &quot;vintage&quot;</p></li>
                                <ul>
                                    <li><p class="paragraph"><code>org.junit.vintage:junit-vintage-engine:5.5.1</code>
                                    </p></li>
                                </ul>
                            </ul>
                            <p class="paragraph">Add to your module's <code>build.gradle.kts</code>:
                            </p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>repositories {<br>  mavenCentral()<br>}<br><br>dependencies {<br><br>  // core<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.9&quot;)<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9&quot;)<br>  implementation(&quot;com.rickbusarow.dispatch:dispatch-core:1.0.0-beta04&quot;)<br><br>  // the junit4 artifact also provides the dispatch-test artifact<br>  testImplementation(&quot;com.rickbusarow.dispatch:dispatch-test-junit4:1.0.0-beta04&quot;)<br>  testImplementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-test:1.3.9&quot;)<br>}</pre>
                            </code></div>
                            <h3 class=""><a></a> JUnit 5 interoperability</h3>
                            <p class="paragraph">Junit 5 provides a “vintage” (JUnit 4) artifact for
                                legacy support (such as Robolectric or Android instrumented tests).
                                Dispatch also supports running both in the same project by just
                                adding both artifacts.</p>
                            <p class="paragraph">Add to your module's <code>build.gradle.kts</code>:
                            </p>
                            <div class="sample-container"><code class="" theme="idea">
                                <pre>repositories {<br>  mavenCentral()<br>}<br><br>dependencies {<br><br>  // core<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.9&quot;)<br>  implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9&quot;)<br>  implementation(&quot;com.rickbusarow.dispatch:dispatch-core:1.0.0-beta04&quot;)<br><br>  // the junit4 and junit5 artifacts also provides the dispatch-test artifact<br>  testImplementation(&quot;com.rickbusarow.dispatch:dispatch-test-junit4:1.0.0-beta04&quot;)<br>  testImplementation(&quot;com.rickbusarow.dispatch:dispatch-test-junit5:1.0.0-beta04&quot;)<br>  testImplementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-test:1.3.9&quot;)<br>}</pre>
                            </code></div>
                            <p class="paragraph">&lt;!--- MODULE dispatch-test--&gt;</p>
                            <p class="paragraph">&lt;!--- INDEX --&gt;</p>
                            <p class="paragraph">&lt;!--- MODULE dispatch-test-junit4--&gt;</p>
                            <p class="paragraph">&lt;!--- INDEX --&gt;</p>
                            <p class="paragraph">&lt;!--- END --&gt;</p></p></div>
                    </div>
                </div>
                <h2 class=""><a data-name="packages"></a>Packages</h2>
                <div class="table"><a data-name="dispatch.test////PointingToDeclaration/"></a>
                    <div class="table-row"
                         data-filterable-current=":dispatch-test-junit4:dokkaHtml/main"
                         data-filterable-set=":dispatch-test-junit4:dokkaHtml/main">
                        <div class="main-subrow "><span><a href="dispatch.test/index.html">dispatch.test</a><span
                                class="anchor-wrapper"><span class="anchor-icon"
                                                             pointing-to="dispatch.test////PointingToDeclaration/"><svg
                                width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
    <path d="M21.2496 5.3C20.3496 4.5 19.2496 4 18.0496 4C16.8496 4 15.6496 4.5 14.8496 5.3L10.3496 9.8L11.7496 11.2L16.2496 6.7C17.2496 5.7 18.8496 5.7 19.8496 6.7C20.8496 7.7 20.8496 9.3 19.8496 10.3L15.3496 14.8L16.7496 16.2L21.2496 11.7C22.1496 10.8 22.5496 9.7 22.5496 8.5C22.5496 7.3 22.1496 6.2 21.2496 5.3Z"/>
    <path d="M8.35 16.7998C7.35 17.7998 5.75 17.7998 4.75 16.7998C3.75 15.7998 3.75 14.1998 4.75 13.1998L9.25 8.6998L7.85 7.2998L3.35 11.7998C1.55 13.5998 1.55 16.3998 3.35 18.1998C4.25 19.0998 5.35 19.4998 6.55 19.4998C7.75 19.4998 8.85 19.0998 9.75 18.1998L14.25 13.6998L12.85 12.2998L8.35 16.7998Z"/>
</svg></span>
                    <div class="copy-popup-wrapper "><svg width="18" height="18" viewBox="0 0 18 18"
                                                          fill="none"
                                                          xmlns="http://www.w3.org/2000/svg">
    <path d="M18 9C18 14 14 18 9 18C4 18 0 14 0 9C0 4 4 0 9 0C14 0 18 4 18 9ZM14.2 6.2L12.8 4.8L7.5 10.1L5.3 7.8L3.8 9.2L7.5 13L14.2 6.2Z"
          fill="#4DBB5F"/>
</svg><span>Link copied to clipboard</span></div>
                  </span></span></div>
            </div>
          </div>
        </div>
            <div class="footer"><span class="go-to-top-icon"><a href="#container"><svg width="12"
                                                                                       height="10"
                                                                                       viewBox="0 0 12 10"
                                                                                       fill="none"
                                                                                       xmlns="http://www.w3.org/2000/svg">
    <path d="M11.3337 9.66683H0.666992L6.00033 3.66683L11.3337 9.66683Z" fill="black"/>
    <path d="M0.666992 0.333496H11.3337V1.66683H0.666992V0.333496Z" fill="black"/>
</svg></a></span><span>© 2020 Copyright</span><span class="pull-right"><span>Sponsored and developed by dokka</span><a
                    href="https://github.com/Kotlin/dokka"><span class="padded-icon"><svg width="8"
                                                                                          height="8"
                                                                                          viewBox="0 0 8 8"
                                                                                          fill="none"
                                                                                          xmlns="http://www.w3.org/2000/svg">
    <path d="M8 0H2.3949L4.84076 2.44586L0 7.28662L0.713376 8L5.55414 3.15924L8 5.6051V0Z"
          fill="black"/>
</svg></span></a></span></div>
      </div>
    </div>
  </body>
</html>

